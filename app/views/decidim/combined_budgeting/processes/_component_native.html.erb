<%
participatory_space = component.participatory_space
target_path = Decidim::EngineRouter.main_proxy(component).root_path(locale: params[:locale])
%>

<article class="card card--full card--process">
  <div class="row collapse card--process__row">
    <div class="columns mediumlarge-8 large-6 card--process__column">
      <div class="card__content">
        <%= link_to target_path, class: "card__link" do %>
          <h2 class="card__title"><%= translated_attribute participatory_space.title %></h2>
        <% end %>
        <%= decidim_sanitize html_truncate(translated_attribute(participatory_space.short_description), length: 630, separator: "...") %>
        <%= link_to target_path, class: "button secondary small hollow card__button" do %>
          <%= t("participatory_processes.promoted_process.more_info", scope: "layouts.decidim") %>
        <% end %>
      </div>
    </div>
    <div class="columns mediumlarge-8 large-6 card--process__column">
      <div class="card--full__image"
           style="background-image:url(<%= participatory_space.hero_image.url %>)">
        <div class="card__content row collapse">
          <div class="large-6 large-offset-6 columns">
            <%= link_to target_path, class: "button expanded button--sc" do %>
              <%= t("participatory_processes.promoted_process.take_part", scope: "layouts.decidim") %>
              <% if participatory_space.active_step %>
                <span class="button__info">
                  <%= t("participatory_processes.promoted_process.active_step", scope: "layouts.decidim") %> <%= translated_attribute participatory_space.active_step.title %>
                </span>
              <% end %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</article>
